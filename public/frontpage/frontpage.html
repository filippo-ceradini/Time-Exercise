<!DOCTYPE html>
<html>
  <head>
    <title>Time</title>
    <!-- I have no rights for the videos, they will have to go as soon as the project is evaluated -->
    <style>
      body {
        background-color: #000000;
        color: #fff;
      }
      
      video {
        max-width: 100%;
        max-height: 100%;
      }

      .bottom-right {
        position: fixed;
        bottom: 0;
        right: 0;
        text-align: right;
        padding: 10px;
      }

      .button-53 {
        background-color: #3DD1E7;
        border: 0 solid #E5E7EB;
        box-sizing: border-box;
        color: #000000;
        display: flex;
        font-family: ui-sans-serif,system-ui,-apple-system,system-ui,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";
        font-size: 1rem;
        font-weight: 700;
        justify-content: center;
        line-height: 1.75rem;
        padding: .75rem 1.65rem;
        position: relative;
        text-align: center;
        text-decoration: none #000000 solid;
        text-decoration-thickness: auto;
        width: 100%;
        max-width: 460px;
        position: relative;
        cursor: pointer;
        transform: rotate(-2deg);
        user-select: none;
        -webkit-user-select: none;
        touch-action: manipulation;
      }

      .button-53:focus {
        outline: 0;
      }

      .button-53:after {
        content: '';
        position: absolute;
        border: 1px solid #000000;
        bottom: 4px;
        left: 4px;
        width: calc(100% - 1px);
        height: calc(100% - 1px);
      }

      .button-53:hover:after {
        bottom: 2px;
        left: 2px;
      }

      @media (min-width: 768px) {
        .button-53 {
          padding: .75rem 3rem;
          font-size: 1.25rem;
        }
      }

      .videoDiv{
          width: 100%;
          padding: 25px;
          position: inherit;
          color: white;
          font-size: 25px;
          box-sizing: border-box;
      
      }
      
      #videoLabel{
        color: rgb(90, 90, 90);
        -webkit-font-smoothing:antialiased;
	      font-family: "Comic Sans MS", sans-serif;
	      line-height:1.4;
	      margin:0 auto;
	      max-width:860px;
	      height: 100%;
        margin-bottom: 30px;
      }

      .hide{
        display: none;
      }
      
    </style>
  </head>
  <body>

    <p>Please allow autoplay of videos 	&#x2934</p>
    <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh;">
      
      <div style="margin-bottom: 1rem;">
        <button id="startButton" class="button-53" onclick="changeVideo(10)">Press for Music Time</button>
      </div>
      
      <div id="videoDiv" class="hide">
        <video id="video1" loop controls>
          Your browser does not support the video tag.
        </video>
        <p id="videoLabel"></p>
      </div>
      
      <div id="backButton" class="hide" >
        <button class="button-53" style="background-color: #e7d93d;" onclick="back()">Go Back and try again!</button>
      </div>
    </div>
  
    <p class="bottom-right">you can also press the numbers on your keyboard</p>
   
    <script>

      vid1 = document.getElementById("video1");
      videoDiv = document.getElementById("videoDiv");
      videoLabel = document.getElementById("videoLabel");
      startButton = document.getElementById("startButton");
      backButton = document.getElementById("backButton");
    
      
      const src1 = {song: "Back in Time",                      date_of_publication: '1985-05-06T00:00:00.000Z', label:"Who doesn't love Back to the Future anyway?", link:"https://raw.githubusercontent.com/filippo-ceradini/Time-Exercise/main/public/ASSets/bttf.mp4#t=65"}
      const src2 = {song: "If I Could Turn Back Time",         date_of_publication: '1989-06-01T00:00:00.000Z', label:"Random song about time", link:"https://raw.githubusercontent.com/filippo-ceradini/Time-Exercise/main/public/ASSets/cher.webm#t=8,40"}
      const src3 = {song: "Time after time",                   date_of_publication: '1984-01-27T00:00:00.000Z', label:"Cindy 4 president", link:"https://raw.githubusercontent.com/filippo-ceradini/Time-Exercise/main/public/ASSets/cindy.mp4#t=114"}
      const src4 = {song: "I've Had The Time of my Life",      date_of_publication: "1987-08-04T00:00:00.000Z", label:"I had a good time, maybe not the time of my life..", link:"https://raw.githubusercontent.com/filippo-ceradini/Time-Exercise/main/public/ASSets/dirtydancing.webm#t=20"}
      const src5 = {song: "Time of your life",                 date_of_publication: '1997-10-17T00:00:00.000Z', label:"For a lovely Green Day.. (I had a good time coding this)", link:"https://raw.githubusercontent.com/filippo-ceradini/Time-Exercise/main/public/ASSets/greenDay.webm#t=36"}
      const src6 = {song: "Hammer Time",                       date_of_publication: "1990-03-12T00:00:00.000Z", label:"You can't touch this code..", link:"https://raw.githubusercontent.com/filippo-ceradini/Time-Exercise/main/public/ASSets/hammer.webm#t=129"}
      const src7 = {song: "...Baby One More Time",             date_of_publication: "1998-01-12T00:00:00.000Z", label:"One more debug..", link:"https://raw.githubusercontent.com/filippo-ceradini/Time-Exercise/main/public/ASSets/oneMoreTime.webm#t=77"}
      const src8 = {song: "Old Time Rock n Roll by Bob Seger", date_of_publication: "1978-01-01T00:00:00.000Z", label:"I also like Old time rock'n'roll", link:"https://raw.githubusercontent.com/filippo-ceradini/Time-Exercise/main/public/ASSets/risky.webm#t=38"}
      const src9 = {song: "Careless whisper",                  date_of_publication: "1984-07-24T00:00:00.000Z", label:"The inspiration for this website was George Michael yelling \"Time can never mend..\" \n straight into the browser", link:"https://raw.githubusercontent.com/filippo-ceradini/Time-Exercise/main/public/ASSets/whisper.webm#t=89"}
      //const src10 = {date_of_publication: "0000-12-25T00:00:00.000Z", label:"Bonus round! hope you had fun catching the egg!", link:"https://raw.githubusercontent.com/filippo-ceradini/Time-Exercise/main/public/ASSets/jesus.mp4"}
      const sources =[src2,src9,src3,src4,src5,src6,src7,src8,src1]
    
      
      function changeVideo(vidnum) {
        let source = document.createElement('source');
        rand = Math.floor(Math.random() * 9)
        if (vidnum != 10){
          rand = vidnum;
        } 
        source.setAttribute('src', sources[rand].link);
        source.setAttribute('type', 'video/mp4');
        videoDiv.classList.toggle("hide");
        startButton.classList.toggle("hide")
        backButton.classList.toggle("hide");
        const dateStr = sources[rand].date_of_publication;
        const date = new Date(dateStr);
        let today = new Date();
        switch (7) {
          case 5: 
          case 1:
            videoLabel.innerText = String(sources[rand].label) +"\n"+ "Only "+ (today.getTime()-date.getTime())+ " milliseconds since this came out on " + date.toLocaleDateString();
            break;
          case 2:
          case 6:
          case 0:
            videoLabel.innerText = String(sources[rand].label) +"\n"+"Enjoy this hit from "+date.toLocaleDateString();
            break;
          case 7:
          case 3:
            const diffTime = Math.abs(today.getTime() - date.getTime());
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24)); 
            videoLabel.innerText = String(sources[rand].label) + "\n" +"Only "+ diffDays + " days since this came out on " + date.toLocaleDateString();
            break;
          case 4:
          case 8:
            const diffMonths = (new Date().getFullYear() - date.getFullYear()) * 12 + (new Date().getMonth() - date.getMonth());
            videoLabel.innerText = String(sources[rand].label) + "\n" +"Only "+ diffMonths + " months since this came out on " + date.toLocaleDateString();
            break;
        }
        vid1.appendChild(source);
        vid1.play()
      }

      

      function back() {
        videoDiv.classList.toggle("hide");
        startButton.classList.toggle("hide")
        backButton.classList.toggle("hide");
        vid1.pause()
        location.reload();
      }

      document.addEventListener('keydown', function(event) {
        if (event.keyCode >= 48 && event.keyCode <= 56 ) {
          if (!vid1.paused){
            location.reload();
          }
          changeVideo((event.keyCode - 48))
        }
      });
      
    </script>
  </body>
</html>
